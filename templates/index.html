<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Bird Feeder Log</title>
  <style>
    body { font-family: sans-serif; padding: 2em; background: #f0f0f0; }
    .visit { background: white; padding: 1em; margin-bottom: 1em; border-radius: 8px; }
    .visit img { max-width: 200px; cursor: pointer; border: 1px solid #ccc; }
    .visit time { font-size: 0.9em; color: #666; }
    form { display: inline-block; margin-right: 0.5em; }
  </style>
</head>
<body>
  <h1>Bird Feeder Visits</h1>
  <p>
    <a href="/snap">📸 Snap Test Photo</a> | 
    <a href="/review">🔍 Review Uncertain Images</a> | 
    <a href="/stats">📊 View Stats</a>
  </p>

  {% for entry in entries %}
  <div class="visit">
    <strong>{{ entry.species }}</strong><br>
    <span class="confidence">Confidence: {{ entry.confidence }}</span><br>
    <time>{{ entry.timestamp }}</time><br>
    <a href="{{ url_for('serve_image', filename=entry.filename) }}" target="_blank">
      <img src="{{ url_for('serve_thumbnail', filename=entry.filename) }}"
           alt="{{ entry.species }}"
           loading="lazy"
           style="max-width: 200px;">
    </a><br>
    <form action="{{ url_for('delete', filename=entry.filename) }}" method="POST">
      <button type="submit">🗑️ Delete</button>
    </form>
  </div>
  {% endfor %}
  <div style="margin-top: 2em;">
    {% if has_prev %}
      <a href="{{ url_for(request.endpoint, page=page-1) }}">⬅️ Previous</a>
    {% endif %}
    {% if has_next %}
      {% if has_prev %} | {% endif %}
      <a href="{{ url_for(request.endpoint, page=page+1) }}">Next ➡️</a>
    {% endif %}
  </div>  
</body>
</html>
